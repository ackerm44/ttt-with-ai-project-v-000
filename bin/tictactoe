#!/usr/bin/env ruby

require_relative '../config/environment'

class NewGame

  def start
    # Output starts below then comes comes to here.  Asks for how many players and gets response from user.
    puts "How many players?"
    puts "Press 1 for 1-player.  Press 2 for 2-player.  Press 0 to watch a computer vs. computer game."
    command = gets.strip

    # Conditional based on user's input.  
    if command == "1"
      puts "Would you like to play first? Press Y or N."
      command_two = gets.strip
      if command_two == "Y" || command_two == "y"
        Game.new(player_1 = Players::Human.new("X"), player_2 = Players::Computer.new("O")).play
      elsif command_two == "N" || command_two == "n"
        Game.new(player_1 = Players::Computer.new("X"), player_2 = Players::Human.new("O")).play
      end
    elsif command == "2"
      puts "Player one will go first and be 'X'"
      Game.new.play
    elsif command == "0"
      Game.new(player_1 = Players::Computer.new("X"), player_2 = Players::Computer.new("O")).play
    end

      puts "Would you like to play agan? Press Y or N."
      command_again = gets.strip
      if command_again == "Y" ||command_again == "y"
        start
      end
  end
end

# Output to players starts here and then creates a new NewGame class as found above.
puts "Welcome to Tic Tac Toe!"
puts "--------------------------------------"
NewGame.new.start
